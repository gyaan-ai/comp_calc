    <script>
        function formatDollar(value) {
            return value.toLocaleString("en-US", { minimumFractionDigits: 0, maximumFractionDigits: 0 });
        }

        function updateAll() {
            const ote = Number(document.getElementById('ote').value) || 0;
            const baseSalary = ote * 0.6;
            const variable = ote * 0.4;
            const quarterlyVariable = variable / 4;
            const commRate = ((variable * 0.75) / 500000) * 100;
            const accRate = commRate * 1.5;

            // Update Compensation Structure
            document.getElementById('base-salary').value = formatDollar(baseSalary);
            document.getElementById('annual-variable').textContent = formatDollar(variable);
            document.getElementById('quarterly-variable').textContent = formatDollar(quarterlyVariable);
            document.getElementById('comm-rate').textContent = commRate.toFixed(1);
            document.getElementById('acc-rate').textContent = accRate.toFixed(1);

            // Update Quarterly ACV Goals
            const q2Actual = Number(document.getElementById('q2-acv').value) || 0;
            const q3Actual = Number(document.getElementById('q3-acv').value) || 0;
            const q4Actual = Number(document.getElementById('q4-acv').value) || 0;

            function calculateCommission(actual, goal) {
                if (actual <= goal) {
                    return { base: actual * (commRate / 100), accelerator: 0 };
                }
                const base = goal * (commRate / 100);
                const accelerator = (actual - goal) * (accRate / 100);
                return { base, accelerator };
            }

            const q2Comm = calculateCommission(q2Actual, 125000);
            const q3Comm = calculateCommission(q3Actual, 175000);
            const q4Comm = calculateCommission(q4Actual, 200000);

            const totalBase = q2Comm.base + q3Comm.base + q4Comm.base;
            const totalAccelerator = q2Comm.accelerator + q3Comm.accelerator + q4Comm.accelerator;
            const totalACV = totalBase + totalAccelerator;

            document.getElementById('acv-base').textContent = formatDollar(totalBase);
            document.getElementById('acv-accelerator').textContent = formatDollar(totalAccelerator);
            document.getElementById('acv-total').textContent = formatDollar(totalACV);

            // Update Summary Earnings
            const includeRamp = document.getElementById('q1-ramp').checked;
            const rampBonus = includeRamp ? quarterlyVariable * 0.5 : 0;

            const includeCS = document.getElementById('cs-bonus'). &#8203;:contentReference[oaicite:0]{index=0}&#8203;
