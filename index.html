<!DOCTYPE html>
<html>
<head>
    <title>Compensation Plan Calculator</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 p-6">
    <div class="max-w-4xl mx-auto space-y-6">
        <!-- Section 1: Q1 Activity and Pipeline Goals -->
        <div class="bg-white rounded-lg shadow p-6">
            <h2 class="text-xl font-bold mb-4">Q1 Activity and Pipeline Goals</h2>
            <div class="grid grid-cols-3 gap-4 text-center font-bold">
                <div>Month</div>
                <div>Goal</div>
                <div>Actual</div>
            </div>
            <div class="grid grid-cols-3 gap-4 items-center">
                <div>Month 1</div>
                <div>6 Meetings / $0 Pipeline</div>
                <div>
                    <input type="number" id="m1-meetings" class="w-full border rounded p-2" placeholder="Meetings" oninput="updateAll()">
                    <input type="number" id="m1-pipeline" class="w-full border rounded p-2 mt-2" placeholder="Pipeline ($)" oninput="updateAll()">
                </div>
            </div>
            <div class="grid grid-cols-3 gap-4 items-center">
                <div>Month 2</div>
                <div>8 Meetings / $100K Pipeline</div>
                <div>
                    <input type="number" id="m2-meetings" class="w-full border rounded p-2" placeholder="Meetings" oninput="updateAll()">
                    <input type="number" id="m2-pipeline" class="w-full border rounded p-2 mt-2" placeholder="Pipeline ($)" oninput="updateAll()">
                </div>
            </div>
            <div class="grid grid-cols-3 gap-4 items-center">
                <div>Month 3</div>
                <div>10 Meetings / $200K Pipeline</div>
                <div>
                    <input type="number" id="m3-meetings" class="w-full border rounded p-2" placeholder="Meetings" oninput="updateAll()">
                    <input type="number" id="m3-pipeline" class="w-full border rounded p-2 mt-2" placeholder="Pipeline ($)" oninput="updateAll()">
                </div>
            </div>
            <div class="mt-6 bg-gray-50 p-4 rounded">
                <h3 class="font-bold">Summary</h3>
                <div class="grid grid-cols-2 gap-4 text-sm mt-2">
                    <div>Activity Achievement:</div>
                    <div><span id="activity-achievement">0</span>%</div>
                    <div>Pipeline Achievement:</div>
                    <div><span id="pipeline-achievement">0</span>%</div>
                    <div>Ramp Bonus:</div>
                    <div>$<span id="ramp-bonus">0</span></div>
                </div>
            </div>
        </div>
        <!-- Section 2: ACV Goals by Quarter -->
        <div class="bg-white rounded-lg shadow p-6">
            <h2 class="text-xl font-bold mb-4">ACV Goals by Quarter</h2>
            <div class="grid grid-cols-3 gap-4 text-center font-bold">
                <div>Quarter</div>
                <div>Goal</div>
                <div>Actual</div>
            </div>
            <div class="grid grid-cols-3 gap-4 items-center">
                <div>Q2</div>
                <div>$125,000</div>
                <div>
                    <input type="number" id="q2-acv" class="w-full border rounded p-2" placeholder="ACV ($)" oninput="updateAll()">
                </div>
            </div>
            <div class="grid grid-cols-3 gap-4 items-center">
                <div>Q3</div>
                <div>$175,000</div>
                <div>
                    <input type="number" id="q3-acv" class="w-full border rounded p-2" placeholder="ACV ($)" oninput="updateAll()">
                </div>
            </div>
            <div class="grid grid-cols-3 gap-4 items-center">
                <div>Q4</div>
                <div>$200,000</div>
                <div>
                    <input type="number" id="q4-acv" class="w-full border rounded p-2" placeholder="ACV ($)" oninput="updateAll()">
                </div>
            </div>
            <div class="mt-6 bg-gray-50 p-4 rounded">
                <h3 class="font-bold">Summary</h3>
                <div class="grid grid-cols-2 gap-4 text-sm mt-2">
                    <div>ACV Commission:</div>
                    <div>$<span id="acv-commission">0</span></div>
                </div>
            </div>
        </div>
        <!-- Section 3: CS Goals -->
        <div class="bg-white rounded-lg shadow p-6">
            <h2 class="text-xl font-bold mb-4">Customer Success Goals</h2>
            <div class="grid grid-cols-3 gap-4 text-center font-bold">
                <div>Metric</div>
                <div>Goal</div>
                <div>Actual</div>
            </div>
            <div class="grid grid-cols-3 gap-4 items-center">
                <div>Implementation Completion</div>
                <div>100%</div>
                <div>
                    <input type="number" id="cs-implementation" class="w-full border rounded p-2" placeholder="%" oninput="updateAll()">
                </div>
            </div>
            <div class="grid grid-cols-3 gap-4 items-center">
                <div>Feature Usage</div>
                <div>75%</div>
                <div>
                    <input type="number" id="cs-feature-usage" class="w-full border rounded p-2" placeholder="%" oninput="updateAll()">
                </div>
            </div>
            <div class="mt-6 bg-gray-50 p-4 rounded">
                <h3 class="font-bold">Summary</h3>
                <div class="grid grid-cols-2 gap-4 text-sm mt-2">
                    <div>CS Bonus:</div>
                    <div>$<span id="cs-bonus">0</span></div>
                </div>
            </div>
        </div>
        <!-- Roll-Up Summary -->
        <div class="bg-white rounded-lg shadow p-6">
            <h2 class="text-xl font-bold mb-4">Total Compensation Summary</h2>
            <div class="grid grid-cols-2 gap-4 text-sm mt-2">
                <div>Base Salary:</div>
                <div>$90,000</div>
                <div>Ramp Bonus:</div>
                <div>$<span id="rollup-ramp-bonus">0</span></div>
                <div>ACV Commission:</div>
                <div>$<span id="rollup-acv-commission">0</span></div>
                <div>CS Bonus:</div>
                <div>$<span id="rollup-cs-bonus">0</span></div>
                <div class="font-bold">Total Compensation:</div>
                <div class="font-bold">$<span id="total-compensation">90,000</span></div>
            </div>
        </div>
    </div>

    <script>
        const goals = {
            ramp: { m1: { meetings: 6, pipeline: 0 }, m2: { meetings: 8, pipeline: 100000 }, m3: { meetings: 10, pipeline: 200000 }, totalBonus: 7500 },
            acv: { q2: 125000, q3: 175000, q4: 200000 },
            cs: { implementation: 100, featureUsage: 75, totalBonus: 15000 },
        };

        function updateAll() {
            updateQ1();
            updateACV();
            updateCS();
            updateRollUp();
        }

        function updateQ1() {
            const rampBonusTotal = goals.ramp.totalBonus;
            const m1Meetings = Number(document.getElementById('m1-meetings').value) || 0;
            const m1Pipeline = Number(document.getElementById('m1-pipeline').value) || 0;
            const m2Meetings = Number(document.getElementById('m2-meetings').value) || 0;
            const
            m2Pipeline = Number(document.getElementById('m2-pipeline').value) || 0;
            const m3Meetings = Number(document.getElementById('m3-meetings').value) || 0;
            const m3Pipeline = Number(document.getElementById('m3-pipeline').value) || 0;

            const activityAch = (
                Math.min(m1Meetings / goals.ramp.m1.meetings, 1) +
                Math.min(m2Meetings / goals.ramp.m2.meetings, 1) +
                Math.min(m3Meetings / goals.ramp.m3.meetings, 1)
            ) / 3 * 100;

            const pipelineAch = (
                Math.min(m1Pipeline / goals.ramp.m1.pipeline, 1) +
                Math.min(m2Pipeline / goals.ramp.m2.pipeline, 1) +
                Math.min(m3Pipeline / goals.ramp.m3.pipeline, 1)
            ) / 3 * 100;

            const rampBonus = rampBonusTotal * (activityAch / 100 + pipelineAch / 100) / 2;

            document.getElementById('activity-achievement').textContent = activityAch.toFixed(1);
            document.getElementById('pipeline-achievement').textContent = pipelineAch.toFixed(1);
            document.getElementById('ramp-bonus').textContent = rampBonus.toFixed(2);
            document.getElementById('rollup-ramp-bonus').textContent = rampBonus.toFixed(2);
        }

        function updateACV() {
            const q2Actual = Number(document.getElementById('q2-acv').value) || 0;
            const q3Actual = Number(document.getElementById('q3-acv').value) || 0;
            const q4Actual = Number(document.getElementById('q4-acv').value) || 0;

            const q2Commission = Math.min(q2Actual / goals.acv.q2, 1) * (0.75 * 60000 / 3);
            const q3Commission = Math.min(q3Actual / goals.acv.q3, 1) * (0.75 * 60000 / 3);
            const q4Commission = Math.min(q4Actual / goals.acv.q4, 1) * (0.75 * 60000 / 3);

            const totalACVCommission = q2Commission + q3Commission + q4Commission;

            document.getElementById('acv-commission').textContent = totalACVCommission.toFixed(2);
            document.getElementById('rollup-acv-commission').textContent = totalACVCommission.toFixed(2);
        }

        function updateCS() {
            const implementationActual = Number(document.getElementById('cs-implementation').value) || 0;
            const featureUsageActual = Number(document.getElementById('cs-feature-usage').value) || 0;

            const implementationAch = Math.min(implementationActual / goals.cs.implementation, 1);
            const featureUsageAch = Math.min(featureUsageActual / goals.cs.featureUsage, 1);

            const combinedAch = (implementationAch + featureUsageAch) / 2;

            const csBonus = goals.cs.totalBonus * combinedAch;

            document.getElementById('cs-bonus').textContent = csBonus.toFixed(2);
            document.getElementById('rollup-cs-bonus').textContent = csBonus.toFixed(2);
        }

        function updateRollUp() {
            const baseSalary = 90000;
            const rampBonus = Number(document.getElementById('rollup-ramp-bonus').textContent) || 0;
            const acvCommission = Number(document.getElementById('rollup-acv-commission').textContent) || 0;
            const csBonus = Number(document.getElementById('rollup-cs-bonus').textContent) || 0;

            const totalCompensation = baseSalary + rampBonus + acvCommission + csBonus;

            document.getElementById('total-compensation').textContent = totalCompensation.toFixed(2);
        }

        updateAll();
    </script>
</body>
</html>
