<!DOCTYPE html>
<html>
<head>
    <title>Earnings Calculator & ACV Goals</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 p-6">
    <div class="max-w-4xl mx-auto space-y-6">
        <!-- Earnings Calculator & ACV Goals Section -->
        <div class="bg-white rounded-lg shadow p-6">
            <h2 class="text-xl font-bold mb-4">Earnings Calculator & ACV Goals</h2>
            <div class="grid grid-cols-2 gap-4">
                <!-- Annual Bookings Target -->
                <div>
                    <label class="block text-sm font-medium mb-1">Annual Bookings Target ($)</label>
                    <input type="number" id="annual-target" class="w-full border rounded p-2" value="1500000" step="50000" oninput="updateAll()">
                </div>
                <div class="grid grid-cols-2 gap-4 items-center">
                    <div>
                        <label class="block text-sm font-medium mb-1">Include Q1 Ramp</label>
                        <input type="checkbox" id="q1-ramp" checked onclick="updateAll()">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">Include CS Bonus</label>
                        <input type="checkbox" id="cs-bonus" checked onclick="updateAll()">
                    </div>
                </div>
            </div>

            <!-- Quarterly ACV Goals -->
            <div class="mt-4">
                <h3 class="text-lg font-bold mb-2">Quarterly ACV Goals</h3>
                <div class="grid grid-cols-3 gap-4 text-center font-bold">
                    <div>Quarter</div>
                    <div>Goal</div>
                    <div>Actual</div>
                </div>
                <div class="grid grid-cols-3 gap-4 items-center">
                    <div>Q2</div>
                    <div>$125,000</div>
                    <div><input type="number" id="q2-acv" class="w-full border rounded p-2" placeholder="ACV ($)" oninput="updateAll()"></div>
                </div>
                <div class="grid grid-cols-3 gap-4 items-center">
                    <div>Q3</div>
                    <div>$175,000</div>
                    <div><input type="number" id="q3-acv" class="w-full border rounded p-2" placeholder="ACV ($)" oninput="updateAll()"></div>
                </div>
                <div class="grid grid-cols-3 gap-4 items-center">
                    <div>Q4</div>
                    <div>$200,000</div>
                    <div><input type="number" id="q4-acv" class="w-full border rounded p-2" placeholder="ACV ($)" oninput="updateAll()"></div>
                </div>
            </div>

            <!-- Summary Breakdown -->
            <div class="mt-6 bg-gray-50 p-4 rounded">
                <h3 class="font-bold mb-2">Earnings Breakdown:</h3>
                <div class="grid grid-cols-2 gap-2 text-sm">
                    <div>Base Salary:</div>
                    <div>$<span id="base-salary">90,000</span></div>
                    <div>Q1 Ramp Bonus (if achieved):</div>
                    <div>$<span id="ramp-bonus">7,500</span></div>
                    <div>ACV Base Commission:</div>
                    <div>$<span id="acv-base">0</span></div>
                    <div>ACV Accelerator Commission:</div>
                    <div>$<span id="acv-accelerator">0</span></div>
                    <div>Total ACV Commission:</div>
                    <div>$<span id="acv-total">0</span></div>
                    <div>CS Bonus (if achieved):</div>
                    <div>$<span id="cs-total">15,000</span></div>
                    <div class="font-bold">Total Potential Earnings:</div>
                    <div class="font-bold">$<span id="total-earnings">112,500</span></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const acvGoals = { q2: 125000, q3: 175000, q4: 200000 };

        function formatDollar(value) {
            return value.toLocaleString("en-US", { minimumFractionDigits: 0, maximumFractionDigits: 0 });
        }

        function updateAll() {
            updateEarnings();
            updateQuarterlyACV();
        }

        function updateEarnings() {
            const baseSalary = 90000;
            const includeRamp = document.getElementById('q1-ramp').checked;
            const rampBonus = includeRamp ? 7500 : 0;

            const includeCS = document.getElementById('cs-bonus').checked;
            const csBonus = includeCS ? 15000 : 0;

            document.getElementById('base-salary').textContent = formatDollar(baseSalary);
            document.getElementById('ramp-bonus').textContent = formatDollar(rampBonus);
            document.getElementById('cs-total').textContent = formatDollar(csBonus);

            const totalEarnings = baseSalary + rampBonus + Number(document.getElementById('acv-total').textContent.replace(/,/g, "")) + csBonus;
            document.getElementById('total-earnings').textContent = formatDollar(totalEarnings);
        }

        function updateQuarterlyACV() {
            const q2Actual = Number(document.getElementById('q2-acv').value) || 0;
            const q3Actual = Number(document.getElementById('q3-acv').value) || 0;
            const q4Actual = Number(document.getElementById('q4-acv').value) || 0;

            const commRate = 9.0; // Base commission rate in percentage
            const accRate = 13.5; // Accelerator rate in percentage

            function calculateCommission(actual, goal) {
                if (actual <= goal) {
                    return { base: actual * (commRate / 100), accelerator: 0 };
                }
                const base = goal * (commRate / 100);
                const accelerator = (actual - goal) * (accRate / 100);
                return { base, accelerator };
            }

            const q2Comm = calculateCommission(q2Actual, acvGoals.q2);
            const q3Comm = calculateCommission(q3Actual, acvGoals.q3);
            const q4Comm = calculateCommission(q4Actual, acvGoals.q4);

            const totalBase = q2Comm.base + q3Comm.base + q4Comm.base;
            const totalAccelerator = q2Comm.accelerator + q3Comm.accelerator + q4Comm.accelerator;

            document.getElementById('acv-base').textContent = formatDollar(totalBase);
            document.getElementById('acv-accelerator').textContent = formatDollar(totalAccelerator);
            document.getElementById('acv-total').textContent = formatDollar(totalBase + totalAccelerator);
        }

        // Initialize calculations
        updateAll();
    </script>
</body>
</html>
